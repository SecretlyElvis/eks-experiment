* Code Repo:
https://github.com/SecretlyElvis/eks-experiment.git

### HELM | Jenkins
Official Jenkins.io Installing Jenkins on Kubernetes:
https://www.jenkins.io/doc/book/installing/kubernetes/

Jenkins on Kubernetes Engine:
https://cloud.google.com/solutions/jenkins-on-kubernetes-engine

Helm Chart codebase:
https://github.com/jenkinsci/helm-charts

https://bitnami.com/stack/jenkins/helm
https://medium.com/faun/deploying-and-scaling-jenkins-on-kubernetes-2cd4164720bd
https://medium.com/appfleet/how-to-set-up-jenkins-on-kubernetes-70f8eac3dc7e
https://hands-on-tech.github.io/2020/03/15/k8s-jenkins-example.html
https://cloud.google.com/solutions/jenkins-on-kubernetes-engine?hl=it
https://www.edureka.co/community/74612/how-to-configure-jenkins-environment-using-helm
https://docs.netapp.com/us-en/project-astra/pdfs/pages/solutions/jenkins-deploy-from-helm-chart.pdf

https://cloudacademy.com/course/introduction-to-helm-1034/helm-charts/

Useful commands:
helm search repo jenkinsci

HELM | Nexus

https://blog.sonatype.com/how-to-use-nexus-repository-and-helm-for-ci/cd
https://help.sonatype.com/repomanager3/formats/helm-repositories
https://github.com/helm/charts/tree/master/stable/sonatype-nexus
https://stackoverflow.com/questions/52274286/run-nexus-in-kubernetes-cluster-using-helm
https://www.freshbrewed.science/getting-started-with-containerized-nexus/index.html
https://www.sonatype.com/press-release-blog/sonatype-adds-native-helm-support

#### RESOURCES ####

-- ClusterRole with multiple ApiGroups:

kind: Role
apiVersion: rbac.authorization.k8s.io/v1
metadata:
 name: get-pods
rules:
 - apiGroups: ["*"]
   resources: ["pods"]
   verbs: ["list","get","watch"]
 - apiGroups: ["extensions","apps"]
   resources: ["deployments"]
   verbs: ["get","list","watch","create","update","patch","delete"]

-- Mounting EFS file system:
sudo mount -t nfs -o nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport fs-5c588564.efs.ap-southeast-2.amazonaws.com:/ efs

-- Install EFS CSI driver into Kubernetes (for accessing PersistentVolumes with CSI driver instead of NFS)
kubectl apply -k "github.com/kubernetes-sigs/aws-efs-csi-driver/deploy/kubernetes/overlays/stable/ecr/?ref=release-1.0"

-- Mounting EFS subdirectory as PV using CSI driver:
https://github.com/kubernetes-sigs/aws-efs-csi-driver/blob/master/examples/kubernetes/volume_path/README.md 

* Learn EKS standup with Terraform:
https://learn.hashicorp.com/tutorials/terraform/eks

If you're running the AWS CLI version 1.16.156 or later, then you don't need to install the authenticator. Instead, you can use the aws eks get-token command. For more information, see Create kubeconfig manually. 

* Install EFS CSI driver to EKS cluster (so EFS can be mounted)
https://docs.aws.amazon.com/eks/latest/userguide/efs-csi.html

* Attach EFS to EKS with Terraform:
https://stackoverflow.com/questions/60609820/how-to-use-amazon-efs-with-eks-in-terraform
